<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tienda Online - Grupos de Productos</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #1a3a4d;
      color: white;
      margin: 0;
      padding: 20px;
    }
    h1, h2 {
      color: #fcd000;
      text-align: center;
    }
    .grupos {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin-bottom: 30px;
    }
    .grupo {
      background: #0c1e2c;
      padding: 20px;
      border-radius: 10px;
      cursor: pointer;
      min-width: 150px;
      text-align: center;
      transition: background-color 0.3s;
      user-select: none;
    }
    .grupo:hover {
      background-color: #fcd000;
      color: #000;
      font-weight: bold;
    }
    .productos {
      max-width: 600px;
      margin: 0 auto 40px;
    }
    .producto {
      background: #0c1e2c;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    button {
      background-color: #fcd000;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #e0b800;
    }
    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.7);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal.active {
      display: flex;
    }
    .modal-content {
      background: #0c1e2c;
      padding: 25px;
      border-radius: 10px;
      text-align: center;
      max-width: 300px;
      color: white;
      box-shadow: 0 0 15px #fcd000;
    }
    .modal-content input[type="number"],
    .modal-content input[type="text"] {
      width: 90%;
      font-size: 1rem;
      padding: 5px;
      border-radius: 5px;
      border: none;
      margin: 5px 0;
      text-align: center;
    }
    .carrito {
      max-width: 600px;
      margin: 0 auto;
      background: #0c1e2c;
      border-radius: 10px;
      padding: 20px;
    }
    .carrito h3 {
      color: #fcd000;
      margin-top: 0;
    }
    .carrito-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      border-bottom: 1px solid #444;
      padding-bottom: 5px;
    }
    .carrito-item span {
      display: inline-block;
      min-width: 120px;
    }
    .vaciar-btn {
      background-color: #cc0000;
      margin-top: 15px;
      display: block;
      width: 100%;
      color: white;
      font-weight: bold;
      border-radius: 5px;
    }
    .vaciar-btn:hover {
      background-color: #a30000;
    }
    .carrito-icon {
      position: fixed;
      top: 15px;
      right: 20px;
      background: #fcd000;
      color: black;
      padding: 10px;
      border-radius: 50%;
      font-size: 1.5em;
      cursor: pointer;
      z-index: 1100;
    }
  </style>
</head>
<body>

  <h1>Elige un grupo de productos</h1>

  <div class="carrito-icon" id="icono-carrito">ðŸ›’</div>
  <div class="grupos" id="grupos-container"></div>
  <div class="productos" id="productos-container"></div>
  <div class="carrito" id="carrito-container" style="display:none;">
    <h3>Carrito de compras</h3>
    <div id="carrito-items"></div>
    <button class="vaciar-btn" id="vaciar-carrito">Vaciar carrito</button>
  </div>

  <!-- Modal cantidad -->
  <div class="modal" id="modal-cantidad">
    <div class="modal-content">
      <h3 id="modal-producto-nombre">Producto</h3>
      <label for="cantidad-input">Cantidad:</label><br/>
      <input type="number" id="cantidad-input" min="1" value="1" />
      <br/>
      <button id="agregar-carrito-btn">Agregar al carrito</button>
      <button id="cerrar-modal-btn" style="margin-top:10px; background:#666; color:#fff;">Cancelar</button>
    </div>
  </div>

  <script>
    const tienda = {
      "Mosquiteros": ["Mosquitero sencillo", "Mosquitero doble", "Mosquitero magnÃ©tico"],
      "CosmÃ©ticos": ["Labial", "Crema facial", "Base de maquillaje"],
      "Extensiones para cabello": ["ExtensiÃ³n rizada", "ExtensiÃ³n lisa", "ExtensiÃ³n ondulada"],
      "Accesorios para bebÃ©s": ["Chupete", "BiberÃ³n", "Mordedera"],
      "Producto escolar": ["Cuadernos", "LÃ¡pices", "Mochila escolar"],
      "Mochilas": ["Mochila casual", "Mochila deportiva", "Mochila ejecutiva"],
      "Peluches": ["Osito", "Conejo", "Perro"],
      "MueblerÃ­a": ["Silla", "Mesa", "EstanterÃ­a"]
    };

    const gruposContainer = document.getElementById('grupos-container');
    const productosContainer = document.getElementById('productos-container');
    const carritoContainer = document.getElementById('carrito-container');
    const carritoItems = document.getElementById('carrito-items');
    const modal = document.getElementById('modal-cantidad');
    const modalProductoNombre = document.getElementById('modal-producto-nombre');
    const cantidadInput = document.getElementById('cantidad-input');
    const agregarCarritoBtn = document.getElementById('agregar-carrito-btn');
    const cerrarModalBtn = document.getElementById('cerrar-modal-btn');
    const vaciarCarritoBtn = document.getElementById('vaciar-carrito');
    const iconoCarrito = document.getElementById('icono-carrito');

    let carrito = [];
    let productoActual = null;

    Object.keys(tienda).forEach(grupo => {
      const div = document.createElement('div');
      div.className = 'grupo';
      div.textContent = grupo;
      div.addEventListener('click', () => mostrarProductos(grupo));
      gruposContainer.appendChild(div);
    });

    function mostrarProductos(grupo) {
      productosContainer.innerHTML = `<h2>${grupo}</h2>`;
      tienda[grupo].forEach(producto => {
        const prodDiv = document.createElement('div');
        prodDiv.className = 'producto';
        const nombre = document.createElement('span');
        nombre.textContent = producto;
        const btnPedir = document.createElement('button');
        btnPedir.textContent = 'Pedir';
        btnPedir.addEventListener('click', () => abrirModal(producto));
        prodDiv.appendChild(nombre);
        prodDiv.appendChild(btnPedir);
        productosContainer.appendChild(prodDiv);
      });
    }

    function abrirModal(producto) {
      productoActual = producto;
      modalProductoNombre.textContent = producto;
      cantidadInput.value = 1;
      modal.classList.add('active');
      cantidadInput.focus();
    }

    cerrarModalBtn.addEventListener('click', () => {
      modal.classList.remove('active');
    });

    agregarCarritoBtn.addEventListener('click', () => {
      const cantidad = parseInt(cantidadInput.value);
      if (cantidad < 1 || isNaN(cantidad)) {
        alert('Por favor ingresa una cantidad vÃ¡lida.');
        return;
      }
      const itemExistente = carrito.find(item => item.producto === productoActual);
      if (itemExistente) {
        itemExistente.cantidad += cantidad;
      } else {
        carrito.push({ producto: productoActual, cantidad });
      }
      modal.classList.remove('active');
      mostrarCarrito();
    });

    function mostrarCarrito() {
      if (carrito.length === 0) {
        carritoContainer.style.display = 'none';
        carritoItems.innerHTML = '';
        return;
      }
      carritoContainer.style.display = 'block';
      carritoItems.innerHTML = '';
      carrito.forEach(item => {
        const div = document.createElement('div');
        div.className = 'carrito-item';
        div.innerHTML = `<span>${item.producto}</span> <span>Cantidad: ${item.cantidad}</span>`;
        carritoItems.appendChild(div);
      });
    }

    vaciarCarritoBtn.addEventListener('click', () => {
      carrito = [];
      mostrarCarrito();
    });

    iconoCarrito.addEventListener('click', () => {
      carritoContainer.scrollIntoView({ behavior: 'smooth' });
    });
  </script>
</body>
</html>
